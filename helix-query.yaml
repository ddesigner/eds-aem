version: 1

# helix-query.yaml
indices:
  pages:
    include:
      - "/**"
    exclude:
      - "/**.json"
    target: query-index.json
    properties:
      # Last modified from HTML meta (ISO 8601, e.g. 2026-01-18T08:44:36Z)
      lastModified:
        select: head > meta[name="modified-time"]
        value: attribute(el, "content")

      # Common metadata you already have
      description:
        select: head > meta[name="description"]
        value: attribute(el, "content")

      ogTitle:
        select: head > meta[property="og:title"]
        value: attribute(el, "content")

      # Optional: only if you add this meta to the page head
      # <meta name="robots" content="index,follow">
      robots:
        select: head > meta[name="robots"]
        value: attribute(el, "content")
